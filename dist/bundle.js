(()=>{const e=document.getElementById("search-btn");e&&e.addEventListener("click",(async function(){const e=document.querySelector(".search-input").value;if(!e)return void console.log("Campo de pesquisa vazio!");console.log("Buscando por:",e);const o=document.querySelector(".search-results");o&&(o.innerHTML="Carregando...");try{const n=await fetch(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(e)}`);if(!n.ok)throw console.log("Erro ao buscar livros",n.status),new Error("Erro ao buscar livros");const t=await n.json();if(console.log("Resposta da API:",t),t.items&&t.items.length>0){const e=t.items[0].volumeInfo,n=e.title||"Título não disponível",s=e.description||"Sem descrição disponível.",c=e.authors?e.authors.join(", "):"Autor desconhecido",l=e.imageLinks?e.imageLinks.thumbnail:"https://via.placeholder.com/150";!function(e,o,n,t){!function(e,o,n,t,s){let c=document.getElementById(s);c||(c=document.createElement("div"),c.id=s,c.classList.add("popup"),document.body.appendChild(c)),c.innerHTML=`\n        <div class="popup-content">\n            <img src="${t}" alt="Imagem do livro" class="book-image">\n            <p><strong>Autor:</strong> ${n}</p>\n            <h3>${e}</h3>\n            <p>${o}</p>\n            <button class="close-popup">Fechar</button>\n        </div>\n    `,c.style.display="block",c.querySelector(".close-popup").addEventListener("click",(()=>{c.style.display="none"}))}(e,o,n,t,"popup-busca")}(n,s,c,l),o&&(o.innerHTML=`\n                    <h3>${n}</h3>\n                    <p><strong>Autor:</strong> ${c}</p>\n                    <p>${s}</p>\n                    <img src="${l}" alt="Imagem do livro" class="book-image">\n                `)}else console.log("Nenhum livro encontrado."),o&&(o.innerHTML="Nenhum livro encontrado.")}catch(e){console.error("Erro:",e),o&&(o.innerHTML="Ocorreu um erro. Tente novamente.")}}));const o=document.getElementById("btn-inscrever"),n=document.getElementById("popup-inscricao"),t=document.getElementById("fechar-popup"),s=document.getElementById("form-popup");o&&n&&(o.addEventListener("click",(function(){n.style.display="flex"})),t.addEventListener("click",(function(){n.style.display="none"})),s.addEventListener("submit",(function(e){e.preventDefault();const o=document.getElementById("nome").value,t=document.getElementById("telefone").value;o&&t?(alert(`Inscrição realizada com sucesso!\nNome: ${o}\nTelefone: ${t}`),n.style.display="none"):alert("Por favor, preencha todos os campos.")}))),window.onload=function(){const e=document.getElementById("loading"),o=document.querySelector(".content");e&&(e.style.display="none"),o&&(o.style.display="block")}})();